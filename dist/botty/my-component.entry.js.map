{"file":"my-component.entry.esm.js","mappings":";;AAAA,MAAM,cAAc,GAAG,iqEAAiqE;;MCc3qE,WAAW;;;4BACiB,EAAE;yBACX,IAAI;4BACK,IAAI;;IAE3C,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,wCAAwC,CAAC,CAAC;YACvE,IAAI,QAAQ,CAAC,EAAE,EAAE;gBACf,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;aACrC;iBAAM;gBACL,OAAO,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;gBAC9C,IAAI,CAAC,YAAY,GAAG,+BAA+B,CAAC;aACrD;SACF;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,+BAA+B,CAAC;SACrD;gBAAS;YACR,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;KACF;IAED,MAAM;QACJ,QACE,4DAAK,KAAK,EAAC,gBAAgB,IACzB,4DAAK,KAAK,EAAC,aAAa,eAAe,EAEvC,4DAAK,KAAK,EAAC,eAAe,IACvB,IAAI,CAAC,SAAS,IACb,WAAK,KAAK,EAAC,SAAS,0BAA0B,IAC5C,IAAI,CAAC,YAAY,IACnB,WAAK,KAAK,EAAC,OAAO,IAAE,IAAI,CAAC,YAAY,CAAO,KAE5C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK;YAC/B,IAAI,GAAG,CAAC,IAAI,KAAK,MAAM,EAAE;gBACvB,QACE,WAAK,KAAK,EAAE,gBAAgB,GAAG,CAAC,SAAS,GAAG,IAAI,GAAG,MAAM,EAAE,EAAE,GAAG,EAAE,KAAK,IACpE,GAAG,CAAC,OAAO,CACR,EACN;aACH;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,MAAM,EAAE;gBAC9B,QACE,WAAK,KAAK,EAAC,WAAW,EAAC,GAAG,EAAE,KAAK,IAC/B,cAAK,GAAG,CAAC,OAAO,CAAC,KAAK,CAAM,OAC5B,WAAK,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,KAAK,GAAI,EAC1D,SAAG,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,EAAC,QAAQ,EAAC,GAAG,EAAC,qBAAqB,mBAEtE,CACA,EACN;aACH;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;gBAC/B,QACE,WAAK,KAAK,EAAC,cAAc,EAAC,GAAG,EAAE,KAAK,IAClC,WAAK,GAAG,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,EAAC,eAAe,GAAG,CACzC,EACN;aACH;YACD,OAAO,IAAI,CAAC;SACb,CAAC,CACH,CACG,CAOF,EACN;KACH;;;;;;","names":[],"sources":["src/components/my-component/my-component.css?tag=my-component&encapsulation=shadow","src/components/my-component/my-component.tsx"],"sourcesContent":[":host {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: 'Helvetica Neue', Arial, sans-serif;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  margin: 0;\r\n  background-color: #f0f2f5; /* Softer background color */\r\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.chat-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 900px; /* Slightly increased width */\r\n  height: 620px; /* Slightly increased height */\r\n  background-color: #ffffff;\r\n  border-radius: 15px; /* More rounded corners */\r\n  overflow: hidden;\r\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15); /* More pronounced shadow */\r\n}\r\n\r\n.chat-header {\r\n  background: linear-gradient(45deg, #007bff, #0056b3); /* Gradient header for a professional look */\r\n  color: white;\r\n  text-align: center;\r\n  padding: 15px;\r\n  font-size: 1.5em; /* Larger font for emphasis */\r\n  font-weight: bold;\r\n}\r\n\r\n.chat-messages {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n  background-color: #f9f9f9;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px; /* Consistent spacing between messages */\r\n}\r\n\r\n.chat-message {\r\n  padding: 15px;\r\n  border-radius: 12px;\r\n  max-width: 80%; /* Slightly increased width for better balance */\r\n  position: relative;\r\n  font-size: 1em;\r\n  line-height: 1.4;\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1); /* Add subtle shadow to messages */\r\n}\r\n\r\n.chat-message.ai {\r\n  background-color: #e1f5fe;\r\n  align-self: flex-start; /* Align AI messages to the left */\r\n  border: 1px solid #b3e5fc;\r\n}\r\n\r\n.chat-message.user {\r\n  background-color: #d1e7dd;\r\n  align-self: flex-end; /* Align user messages to the right */\r\n  border: 1px solid #a3d5c3;\r\n}\r\n\r\n/* Styles for card messages */\r\n.chat-card {\r\n  padding: 15px;\r\n  border-radius: 12px;\r\n  background-color: #ffffff;\r\n  border: 1px solid #e0e0e0;\r\n  width: 100%; /* Full width to stack vertically */\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05); /* Subtle shadow for depth */\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  transition: transform 0.3s, box-shadow 0.3s; /* Add smooth transition */\r\n}\r\n\r\n.chat-card:hover {\r\n  transform: translateY(-5px); /* Lift card slightly on hover */\r\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.chat-card img {\r\n  max-width: 100%;\r\n  border-radius: 10px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.chat-card h4 {\r\n  margin: 10px 0;\r\n  font-size: 1.2em;\r\n  font-weight: 600;\r\n  color: #333; /* Darker color for better readability */\r\n}\r\n\r\n.chat-card a {\r\n  margin-top: 10px;\r\n  padding: 8px 16px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border-radius: 8px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.chat-card a:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.chat-input-container {\r\n  display: flex;\r\n  border-top: 1px solid #ddd;\r\n  padding: 15px;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.chat-input {\r\n  flex: 1;\r\n  padding: 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  font-size: 1em;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.chat-input:focus {\r\n  border-color: #007bff; /* Highlight border on focus */\r\n  outline: none;\r\n}\r\n\r\n.send-button {\r\n  margin-left: 10px;\r\n  padding: 12px 24px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 1em;\r\n  font-weight: bold;\r\n  transition: background-color 0.3s, transform 0.3s;\r\n}\r\n\r\n.send-button:hover {\r\n  background-color: #0056b3;\r\n  transform: translateY(-2px); /* Lift button slightly on hover */\r\n}\r\n","// my-component.tsx\r\nimport { Component, State, h } from '@stencil/core';\r\n\r\ninterface ChatMessage {\r\n  type: string; // 'text', 'card', 'image', etc.\r\n  content: any; // Can be string for text or an object for cards\r\n  isAIReply?: boolean; // Optional property to indicate if the message is from AI\r\n}\r\n\r\n@Component({\r\n  tag: 'my-component',\r\n  styleUrl: 'my-component.css',\r\n  shadow: true,\r\n})\r\nexport class MyComponent {\r\n  @State() chatMessages: ChatMessage[] = [];\r\n  @State() isLoading: boolean = true; // Loading state\r\n  @State() errorMessage: string | null = null; // Error state\r\n\r\n  async componentWillLoad() {\r\n    try {\r\n      const response = await fetch('http://localhost:3000/api/conversation'); // Fetch from local backend\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        this.chatMessages = data.chat || []; // Safeguard in case `chat` is undefined\r\n      } else {\r\n        console.error('Error fetching chat messages');\r\n        this.errorMessage = 'Failed to load chat messages.';\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      this.errorMessage = 'Error fetching chat messages.';\r\n    } finally {\r\n      this.isLoading = false; // End loading state\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"chat-container\">\r\n        <div class=\"chat-header\">Timmy AI</div>\r\n\r\n        <div class=\"chat-messages\">\r\n          {this.isLoading ? (\r\n            <div class=\"loading\">Loading messages...</div>\r\n          ) : this.errorMessage ? (\r\n            <div class=\"error\">{this.errorMessage}</div>\r\n          ) : (\r\n            this.chatMessages.map((msg, index) => {\r\n              if (msg.type === 'text') {\r\n                return (\r\n                  <div class={`chat-message ${msg.isAIReply ? 'ai' : 'user'}`} key={index}>\r\n                    {msg.content}\r\n                  </div>\r\n                );\r\n              } else if (msg.type === 'card') {\r\n                return (\r\n                  <div class=\"chat-card\" key={index}>\r\n                    <h4>{msg.content.title}</h4> {/* Ensure correct structure */}\r\n                    <img src={msg.content.imageUrl} alt={msg.content.title} />\r\n                    <a href={msg.content.productUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      View Product\r\n                    </a>\r\n                  </div>\r\n                );\r\n              } else if (msg.type === 'image') {\r\n                return (\r\n                  <div class=\"chat-message\" key={index}>\r\n                    <img src={msg.content} alt=\"Image message\" />\r\n                  </div>\r\n                );\r\n              }\r\n              return null; // In case of unrecognized message type\r\n            })\r\n          )}\r\n        </div>\r\n\r\n        {/* Optional input area for future chat interactions */}\r\n        {/*<div class=\"chat-input-container\">\r\n          <input type=\"text\" class=\"chat-input\" placeholder=\"Type your message...\" />\r\n          <button class=\"send-button\">Send</button>\r\n        </div>*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}